@tailwind base;
@tailwind components;
@tailwind utilities;

/* === Bird Animation Styles === */

/* This container holds the birds and is hidden in dark mode */
.bird-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  overflow: hidden;
  pointer-events: none; /* Allows clicks to pass through to elements behind it */
  z-index: 1; /* Position it above the background image but below the main content */
}

/* This is the key rule: when the body has the 'dark' class, hide the birds. */
.dark .bird-container {
  display: none;
}

/* Styles for an individual bird */
.bird {
  position: absolute;
  /* Start off-screen to the left, using a fixed value */
  left: -20px;
  width: 30;
  height: 20px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 572.371 572.37' fill='%234A5568'%3E%3Cpath d='M556.92,407.511c9.05-5.9,9.977-11.314,2.746-18.671c-2.623-2.668-5.858-4.993-9.232-6.597 c-4.346-2.064-9.111-3.239-13.812-4.839c10.103-4.541,11.106-5.558,13.962-14.007l-4.288-6.866 c-14.863-7.585-29.616-5.337-44.219,0.709c-12.231,5.063-24.223,10.739-36.561,15.521c-15.361,5.953-31.013,7.662-46.818,7.373 c-0.722-0.114-1.452-0.212-2.191-0.277c-20.566-1.73-43.778-6.377-65.096-12.808c2.974-3.713,5.822-7.462,8.299-11.44 c5.141-8.254,3.528-11.016-6.353-14.369c5.479-5.945,10.938-11.444,15.896-17.365c4.438-5.3,8.702-10.832,12.329-16.703 c2.632-4.255,4.023-9.485,0.258-13.896c-4.064-4.757-9.633-4.026-15.022-2.632c-1.388,0.359-2.673,1.109-4.803,2.023 c3.525-10.15,7.263-19.269,9.78-28.71c1.881-7.066,3.211-14.586,2.994-21.848c-0.493-16.532-7.874-20.592-22.399-13.244 c1.058-11.755,2.652-23.48,2.995-35.243c0.253-8.682-0.347-17.564-1.963-26.092c-2.631-13.917-6.907-15.186-17.185-6.226 c-0.926-8.352-1.6-16.716-2.881-24.99c-0.575-3.709-2.129-7.332-3.635-10.824c-4.361-10.115-9.054-10.886-16.997-3.439 c-2.771-8.601-5.598-17.417-8.462-26.222c-0.277-0.849-0.719-1.648-1.146-2.44c-4.688-8.633-7.679-8.972-13.86-1.489 c-6.275-10.857-8.405-24.586-21.379-30.722l-5.72,3.574c-4.606,12.966-2.668,26.067-0.408,39.05 c0.551,3.162,1.012,6.308,1.395,9.445c-0.546,2.954-0.387,6.03,0.71,8.988c0.069,0.188,0.135,0.379,0.204,0.567 c0.853,12.134,0.481,24.068-0.869,35.839c-0.501,2.175-1,4.354-1.501,6.528c-0.212,0.922-0.053,1.709,0.314,2.342 c-3.835,24.325-11.779,47.98-22.024,71.277c-2.44,5.549-4.5,11.265-6.846,16.858c-10.918,26.031-2.097,49.16,10.277,71.902 c4.178,7.683,8.005,15.605,11.318,23.696c1.082,2.644,1.942,5.186,2.583,7.626c-7.059-10.355-14.121-20.711-21.18-31.062 c-4.067-7.409-8.886-14.366-14.888-20.588c-2.289-2.37-5.908-3.46-8.915-5.137c-1.419,2.831-2.839,5.663-4.316,8.604 c-3.978-4.564-8.168-9.947-12.97-14.712c-4.113-4.084-8.621-7.928-13.484-11.053c-9.568-6.153-13.856-4.174-16.381,5.663 c-8.168-6.903-16.671-14.296-25.439-21.359c-2.195-1.771-5.157-2.721-7.903-3.656c-6.997-2.383-9.392-1.379-12.713,4.431 c-7.103-3.998-13.896-8.69-21.346-11.812c-11.049-4.631-16.234-1.828-19.764,9.47c-12.57-8.882-26.39-14.655-41.653-15.729 c-7.731-0.542-15.655,0.245-23.358,1.363c-3.542,0.514-7.128,2.828-9.988,5.182c-1.771,1.457-3.399,4.798-2.93,6.785 c0.457,1.934,3.468,3.68,5.725,4.664c2.411,1.053,5.23,1.289,7.903,1.579c32.114,3.48,57.222,20.661,79.226,42.42 c13.492,13.346,24.969,28.78,36.875,43.655c6.887,8.604,15.463,14.239,25.659,17.695c16.116,5.463,33.036,8.996,46.671,20.273 c0.261,0.216,0.624,0.314,1.048,0.343c0.841,1.139,1.832,2.183,2.999,3.084c0.269,0.209,0.551,0.408,0.82,0.616 c-5.149,0.535-10.298,1.09-15.357,2.016c-10.331,1.89-20.702,4.297-30.567,7.834c-28.862,10.354-39.4,43.636-22.521,69.181 c3.264,4.937,5.826,10.334,9.196,16.385c5.336,7.817,2.672,16.875,5.104,14.827c2.432-2.049,4.863-10.466,6.385-12.832 c1.742-5.386,4.402-8.666,11.306-9.437c10.102-1.131,18.413-7.45,22.75-15.235c2.583-0.742,5.166-1.489,7.748-2.231 c0.326,0.126,0.648,0.2,0.975,0.195c23.178-0.322,44.296,8.899,66.32,13.958c17.878,4.104,35.953,8.417,54.162,9.809 c35.908,2.746,62.176-13.93,77.427-46.716c0.751-1.612,1.444-3.252,2.121-4.9c2.889-0.122,5.781-0.159,8.67-0.073 c2.028,0.057,4.052,0.15,6.075,0.277c0.694,0.354,1.392,0.689,2.126,0.824c2.692,0.502,5.304,1.102,7.846,1.783 c1.485,0.815,3.068,1.493,4.762,1.966c4.504,1.253,9.225,3.072,13.811,5.312c17.046,9.106,29.756,23.64,38.797,42.905 c2.044,4.357,5.193,8.523,8.752,11.779c7.837,7.177,16.038,4.324,18.567-6.01c0.074-0.294,0.139-0.592,0.204-0.886 c0.314-0.171,0.637-0.33,0.938-0.519c1.388-0.868,2.579-1.848,3.631-2.896c3.934,2.061,7.899,4.133,11.882,6.218l8.009-5.006 c4.071-7.919,6.699-16.079,4.443-25.215c1.158-0.24,2.293-0.591,3.398-1.023c5.242,1.407,10.176,2.13,14.137-2.607 c5.101-6.096,3.374-13.149,0.927-19.805c-1.028-2.794-2.571-5.414-4.101-8.213c0.905-0.607,1.767-1.276,2.578-2.011 c5.312,0.444,10.481,0.293,13.656-5.17c2.664-4.577,0.779-12.533-4.333-17.883C563.808,413.035,560.247,410.391,556.92,407.511z'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
  
  /* Apply the two animations, using the CSS variables from the component */
  /* We are now using a different keyframe animation for movement */
  animation: fly-right-by-left var(--animation-duration) linear var(--animation-delay) infinite,
             flap 0.4s linear var(--animation-delay) infinite;
             
  will-change: left, transform; /* Performance optimization for animations */
  image-rendering: pixelated; /* Keeps the SVG sharp and pixelated */
}

/* NEW Keyframe animation for moving the bird across the screen by animating 'left' */
@keyframes fly-right-by-left {
  /* Flying Phase (0% to 50% of the animation duration) */
  0% {
    left: -20px;
    opacity: 1;
  }
  80% {
    left: 100%;
    opacity: 0.8;
  }
  /* Waiting Phase (50.1% to 100% of the duration) */
  80.1%, 100% {
    left: -20px; /* Reset position to the start */
    opacity: 0;   /* Stay invisible */
  }
}

/* Keyframe animation for the wing-flapping effect */
@keyframes flap {
  0%, 100% { transform: scaleX(-1) translateY(0px) rotate(-3deg); }
  50% { transform: scaleX(-1) translateY(-3px) rotate(3deg); }
}


/* === Starry Sky Animation Styles === */

/* The container is hidden by default and only appears in dark mode */
.starry-sky-container {
  display: none;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  overflow: hidden;
  pointer-events: none;
  z-index: 0; /* Position it behind everything, including the forest background */
}

/* This is the key rule: when the body has the 'dark' class, show the stars. */
.dark .starry-sky-container {
  display: block;
}

/* Styles for an individual twinkling star */
.star {
  position: absolute;
  width: var(--star-size);
  height: var(--star-size);
  background-color: white;
  border-radius: 50%;
  animation: twinkle var(--animation-duration) ease-in-out var(--animation-delay) infinite;
}

/* Keyframe animation for the twinkling effect */
@keyframes twinkle {
  0%, 100% {
    opacity: 0.2;
    transform: scale(0.8);
  }
  50% {
    opacity: 1;
    transform: scale(1.2);
  }
}

/* === Shooting Star Styles === */

.shooting-star {
  position: absolute;
  top: 0;
  left: 0;
  width: 150px;
  height: 2px;
  background: linear-gradient(to left, white, rgba(255, 255, 255, 0));
  border-radius: 9999px;
  filter: drop-shadow(0 0 6px white);

  /* Start with an opacity of 0 so the stars are invisible by default */
  opacity: 1;
  
  /* The animation now controls the position and rotation completely */
  animation: shoot var(--animation-duration) ease-in-out var(--animation-delay) infinite;

  animation-fill-mode: both;

}

@keyframes shoot {
  0% {
    /* Start invisible and off-screen (top-right), with corrected rotation */
    transform: translateX(100vw) translateY(-30vh) rotate(162deg);
    opacity: 1;
  }
  80% {
    /* Travel down and left, ending around 0 % viewport height, and fade out */
    transform: translateX(1vh) translateY(0vh) rotate(165deg);
    opacity: 0;
  }
  100% {
    opacity: 0;
  }
}

/* === Sticky Note Flip Animation Styles (Diagonal Flip) === */

/* The scene container for the 3D effect */
.note-scene {
  perspective: 1000px;
}

/* The inner container that actually flips */
.note-card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  transition: transform 0.8s; /* A slightly slower transition for a better feel */
  transform-style: preserve-3d;
}

.note-card-inner.is-flipped {
  transform: translateX(-50%) rotateY(-180deg) translateX(0);
}

/* Common styles for both front and back faces of the note */
.note-face {
  position: absolute;
  width: 100%;
  height: 100%;
  -webkit-backface-visibility: hidden; /* Safari */
  backface-visibility: hidden;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: 2rem;
  border-radius: 0.5rem;
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
}

/* Front face styles */
.note-front {
  background-color: #fef08a; /* A nice sticky note yellow */
}
.dark .note-front {
  background-color: #facc15; /* A slightly darker yellow for dark mode */
}

/* Back face styles */
.note-back {
  background-color: #fef9c3; /* A lighter yellow for the back */
  transform: rotateY(180deg);
    z-index: 2;

}
.dark .note-back {
  background-color: #fde047;
}
